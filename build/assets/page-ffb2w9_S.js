import{r as v,j as F,R as D,I as Qe,O as $t,S as Kt,d as zt,w as Gt,a as Xt,b as Jt,s as Et,m as Ue,g as et,U as Se,c as Oe,e as Yt,f as Qt,i as B,h as er,k as ft,l as Ce,n as tr,o as rr,p as dt,q as sr,u as nr,t as ar}from"./index-s2-8hW9n.js";import{m as Rt,B as St,c as tt}from"./Button-BBvLjvz_.js";const rt=v.createContext([[],()=>[]]),ir=({children:e})=>{const[r,t]=v.useState([]);return F.jsx(rt.Provider,{children:e,value:[r,t]})},lr=rt.Consumer,pt=()=>v.useContext(rt);function ur({title:e,titleId:r,...t},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?v.createElement("title",{id:r},e):null,v.createElement("path",{fillRule:"evenodd",d:"M16.72 7.72a.75.75 0 0 1 1.06 0l3.75 3.75a.75.75 0 0 1 0 1.06l-3.75 3.75a.75.75 0 1 1-1.06-1.06l2.47-2.47H3a.75.75 0 0 1 0-1.5h16.19l-2.47-2.47a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const or=v.forwardRef(ur);function cr({title:e,titleId:r,...t},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?v.createElement("title",{id:r},e):null,v.createElement("path",{fillRule:"evenodd",d:"M4.848 2.771A49.144 49.144 0 0 1 12 2.25c2.43 0 4.817.178 7.152.52 1.978.292 3.348 2.024 3.348 3.97v6.02c0 1.946-1.37 3.678-3.348 3.97a48.901 48.901 0 0 1-3.476.383.39.39 0 0 0-.297.17l-2.755 4.133a.75.75 0 0 1-1.248 0l-2.755-4.133a.39.39 0 0 0-.297-.17 48.9 48.9 0 0 1-3.476-.384c-1.978-.29-3.348-2.024-3.348-3.97V6.741c0-1.946 1.37-3.68 3.348-3.97ZM6.75 8.25a.75.75 0 0 1 .75-.75h9a.75.75 0 0 1 0 1.5h-9a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H7.5Z",clipRule:"evenodd"}))}const fr=v.forwardRef(cr);function dr({title:e,titleId:r,...t},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?v.createElement("title",{id:r},e):null,v.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const gr=v.forwardRef(dr);function hr({title:e,titleId:r,...t},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?v.createElement("title",{id:r},e):null,v.createElement("path",{fillRule:"evenodd",d:"M1.5 5.625c0-1.036.84-1.875 1.875-1.875h17.25c1.035 0 1.875.84 1.875 1.875v12.75c0 1.035-.84 1.875-1.875 1.875H3.375A1.875 1.875 0 0 1 1.5 18.375V5.625Zm1.5 0v1.5c0 .207.168.375.375.375h1.5a.375.375 0 0 0 .375-.375v-1.5a.375.375 0 0 0-.375-.375h-1.5A.375.375 0 0 0 3 5.625Zm16.125-.375a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5A.375.375 0 0 0 21 7.125v-1.5a.375.375 0 0 0-.375-.375h-1.5ZM21 9.375A.375.375 0 0 0 20.625 9h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5a.375.375 0 0 0 .375-.375v-1.5Zm0 3.75a.375.375 0 0 0-.375-.375h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5a.375.375 0 0 0 .375-.375v-1.5Zm0 3.75a.375.375 0 0 0-.375-.375h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5a.375.375 0 0 0 .375-.375v-1.5ZM4.875 18.75a.375.375 0 0 0 .375-.375v-1.5a.375.375 0 0 0-.375-.375h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5ZM3.375 15h1.5a.375.375 0 0 0 .375-.375v-1.5a.375.375 0 0 0-.375-.375h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375Zm0-3.75h1.5a.375.375 0 0 0 .375-.375v-1.5A.375.375 0 0 0 4.875 9h-1.5A.375.375 0 0 0 3 9.375v1.5c0 .207.168.375.375.375Zm4.125 0a.75.75 0 0 0 0 1.5h9a.75.75 0 0 0 0-1.5h-9Z",clipRule:"evenodd"}))}const yr=v.forwardRef(hr);function mr({title:e,titleId:r,...t},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?v.createElement("title",{id:r},e):null,v.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const vr=v.forwardRef(mr);var Me=e=>e.type==="checkbox",pe=e=>e instanceof Date,Y=e=>e==null;const At=e=>typeof e=="object";var $=e=>!Y(e)&&!Array.isArray(e)&&At(e)&&!pe(e),Ft=e=>$(e)&&e.target?Me(e.target)?e.target.checked:e.target.value:e,br=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Dt=(e,r)=>e.has(br(r)),xr=e=>{const r=e.constructor&&e.constructor.prototype;return $(r)&&r.hasOwnProperty("isPrototypeOf")},st=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ee(e){let r;const t=Array.isArray(e);if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(st&&(e instanceof Blob||e instanceof FileList))&&(t||$(e)))if(r=t?[]:{},!t&&!xr(e))r=e;else for(const n in e)e.hasOwnProperty(n)&&(r[n]=ee(e[n]));else return e;return r}var $e=e=>Array.isArray(e)?e.filter(Boolean):[],P=e=>e===void 0,d=(e,r,t)=>{if(!r||!$(e))return t;const n=$e(r.split(/[,[\].]+?/)).reduce((i,l)=>Y(i)?i:i[l],e);return P(n)||n===e?P(e[r])?t:e[r]:n},ue=e=>typeof e=="boolean",nt=e=>/^\w*$/.test(e),kt=e=>$e(e.replace(/["|']|\]/g,"").split(/\.|\[/)),O=(e,r,t)=>{let n=-1;const i=nt(r)?[r]:kt(r),l=i.length,c=l-1;for(;++n<l;){const h=i[n];let _=t;if(n!==c){const V=e[h];_=$(V)||Array.isArray(V)?V:isNaN(+i[n+1])?{}:[]}if(h==="__proto__")return;e[h]=_,e=e[h]}return e};const Be={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ne={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},de={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},_r=D.createContext(null),at=()=>D.useContext(_r);var Ct=(e,r,t,n=!0)=>{const i={defaultValues:r._defaultValues};for(const l in e)Object.defineProperty(i,l,{get:()=>{const c=l;return r._proxyFormState[c]!==ne.all&&(r._proxyFormState[c]=!n||ne.all),t&&(t[c]=!0),e[c]}});return i},te=e=>$(e)&&!Object.keys(e).length,Tt=(e,r,t,n)=>{t(e);const{name:i,...l}=e;return te(l)||Object.keys(l).length>=Object.keys(r).length||Object.keys(l).find(c=>r[c]===(!n||ne.all))},Le=e=>Array.isArray(e)?e:[e],Ot=(e,r,t)=>!e||!r||e===r||Le(e).some(n=>n&&(t?n===r:n.startsWith(r)||r.startsWith(n)));function it(e){const r=D.useRef(e);r.current=e,D.useEffect(()=>{const t=!e.disabled&&r.current.subject&&r.current.subject.subscribe({next:r.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}function wr(e){const r=at(),{control:t=r.control,disabled:n,name:i,exact:l}=e||{},[c,h]=D.useState(t._formState),_=D.useRef(!0),V=D.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),m=D.useRef(i);return m.current=i,it({disabled:n,next:x=>_.current&&Ot(m.current,x.name,l)&&Tt(x,V.current,t._updateFormState)&&h({...t._formState,...x}),subject:t._subjects.state}),D.useEffect(()=>(_.current=!0,V.current.isValid&&t._updateValid(!0),()=>{_.current=!1}),[t]),Ct(c,t,V.current,!1)}var oe=e=>typeof e=="string",Lt=(e,r,t,n,i)=>oe(e)?(n&&r.watch.add(e),d(t,e,i)):Array.isArray(e)?e.map(l=>(n&&r.watch.add(l),d(t,l))):(n&&(r.watchAll=!0),t);function Vr(e){const r=at(),{control:t=r.control,name:n,defaultValue:i,disabled:l,exact:c}=e||{},h=D.useRef(n);h.current=n,it({disabled:l,subject:t._subjects.values,next:m=>{Ot(h.current,m.name,c)&&V(ee(Lt(h.current,t._names,m.values||t._formValues,!1,i)))}});const[_,V]=D.useState(t._getWatch(n,i));return D.useEffect(()=>t._removeUnmounted()),_}function Er(e){const r=at(),{name:t,disabled:n,control:i=r.control,shouldUnregister:l}=e,c=Dt(i._names.array,t),h=Vr({control:i,name:t,defaultValue:d(i._formValues,t,d(i._defaultValues,t,e.defaultValue)),exact:!0}),_=wr({control:i,name:t,exact:!0}),V=D.useRef(i.register(t,{...e.rules,value:h,...ue(e.disabled)?{disabled:e.disabled}:{}}));return D.useEffect(()=>{const m=i._options.shouldUnregister||l,x=(z,q)=>{const E=d(i._fields,z);E&&E._f&&(E._f.mount=q)};if(x(t,!0),m){const z=ee(d(i._options.defaultValues,t));O(i._defaultValues,t,z),P(d(i._formValues,t))&&O(i._formValues,t,z)}return()=>{(c?m&&!i._state.action:m)?i.unregister(t):x(t,!1)}},[t,i,c,l]),D.useEffect(()=>{d(i._fields,t)&&i._updateDisabledField({disabled:n,fields:i._fields,name:t,value:d(i._fields,t)._f.value})},[n,t,i]),{field:{name:t,value:h,...ue(n)||_.disabled?{disabled:_.disabled||n}:{},onChange:D.useCallback(m=>V.current.onChange({target:{value:Ft(m),name:t},type:Be.CHANGE}),[t]),onBlur:D.useCallback(()=>V.current.onBlur({target:{value:d(i._formValues,t),name:t},type:Be.BLUR}),[t,i]),ref:D.useCallback(m=>{const x=d(i._fields,t);x&&m&&(x._f.ref={focus:()=>m.focus(),select:()=>m.select(),setCustomValidity:z=>m.setCustomValidity(z),reportValidity:()=>m.reportValidity()})},[i._fields,t])},formState:_,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!d(_.errors,t)},isDirty:{enumerable:!0,get:()=>!!d(_.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!d(_.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!d(_.validatingFields,t)},error:{enumerable:!0,get:()=>d(_.errors,t)}})}}const Rr=e=>e.render(Er(e));var Sr=(e,r,t,n,i)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[n]:i||!0}}:{},gt=e=>({isOnSubmit:!e||e===ne.onSubmit,isOnBlur:e===ne.onBlur,isOnChange:e===ne.onChange,isOnAll:e===ne.all,isOnTouch:e===ne.onTouched}),ht=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Ne=(e,r,t,n)=>{for(const i of t||Object.keys(e)){const l=d(e,i);if(l){const{_f:c,...h}=l;if(c){if(c.refs&&c.refs[0]&&r(c.refs[0],i)&&!n)break;if(c.ref&&r(c.ref,c.name)&&!n)break;Ne(h,r)}else $(h)&&Ne(h,r)}}};var pr=(e,r,t)=>{const n=Le(d(e,t));return O(n,"root",r[t]),O(e,t,n),e},lt=e=>e.type==="file",me=e=>typeof e=="function",We=e=>{if(!st)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},Pe=e=>oe(e),ut=e=>e.type==="radio",qe=e=>e instanceof RegExp;const yt={value:!1,isValid:!1},mt={value:!0,isValid:!0};var Nt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!P(e[0].attributes.value)?P(e[0].value)||e[0].value===""?mt:{value:e[0].value,isValid:!0}:mt:yt}return yt};const vt={isValid:!1,value:null};var Mt=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,vt):vt;function bt(e,r,t="validate"){if(Pe(e)||Array.isArray(e)&&e.every(Pe)||ue(e)&&!e)return{type:t,message:Pe(e)?e:"",ref:r}}var Re=e=>$(e)&&!qe(e)?e:{value:e,message:""},xt=async(e,r,t,n,i)=>{const{ref:l,refs:c,required:h,maxLength:_,minLength:V,min:m,max:x,pattern:z,validate:q,name:E,valueAsNumber:k,mount:A,disabled:b}=e._f,w=d(r,E);if(!A||b)return{};const G=c?c[0]:l,I=S=>{n&&G.reportValidity&&(G.setCustomValidity(ue(S)?"":S||""),G.reportValidity())},M={},ae=ut(l),ge=Me(l),L=ae||ge,ie=(k||lt(l))&&P(l.value)&&P(w)||We(l)&&l.value===""||w===""||Array.isArray(w)&&!w.length,W=Sr.bind(null,E,t,M),he=(S,p,N,K=de.maxLength,Q=de.minLength)=>{const X=S?p:N;M[E]={type:S?K:Q,message:X,ref:l,...W(S?K:Q,X)}};if(i?!Array.isArray(w)||!w.length:h&&(!L&&(ie||Y(w))||ue(w)&&!w||ge&&!Nt(c).isValid||ae&&!Mt(c).isValid)){const{value:S,message:p}=Pe(h)?{value:!!h,message:h}:Re(h);if(S&&(M[E]={type:de.required,message:p,ref:G,...W(de.required,p)},!t))return I(p),M}if(!ie&&(!Y(m)||!Y(x))){let S,p;const N=Re(x),K=Re(m);if(!Y(w)&&!isNaN(w)){const Q=l.valueAsNumber||w&&+w;Y(N.value)||(S=Q>N.value),Y(K.value)||(p=Q<K.value)}else{const Q=l.valueAsDate||new Date(w),X=ve=>new Date(new Date().toDateString()+" "+ve),re=l.type=="time",ye=l.type=="week";oe(N.value)&&w&&(S=re?X(w)>X(N.value):ye?w>N.value:Q>new Date(N.value)),oe(K.value)&&w&&(p=re?X(w)<X(K.value):ye?w<K.value:Q<new Date(K.value))}if((S||p)&&(he(!!S,N.message,K.message,de.max,de.min),!t))return I(M[E].message),M}if((_||V)&&!ie&&(oe(w)||i&&Array.isArray(w))){const S=Re(_),p=Re(V),N=!Y(S.value)&&w.length>+S.value,K=!Y(p.value)&&w.length<+p.value;if((N||K)&&(he(N,S.message,p.message),!t))return I(M[E].message),M}if(z&&!ie&&oe(w)){const{value:S,message:p}=Re(z);if(qe(S)&&!w.match(S)&&(M[E]={type:de.pattern,message:p,ref:l,...W(de.pattern,p)},!t))return I(p),M}if(q){if(me(q)){const S=await q(w,r),p=bt(S,G);if(p&&(M[E]={...p,...W(de.validate,p.message)},!t))return I(p.message),M}else if($(q)){let S={};for(const p in q){if(!te(S)&&!t)break;const N=bt(await q[p](w,r),G,p);N&&(S={...N,...W(p,N.message)},I(N.message),t&&(M[E]=S))}if(!te(S)&&(M[E]={ref:G,...S},!t))return M}}return I(!0),M};function Ar(e,r){const t=r.slice(0,-1).length;let n=0;for(;n<t;)e=P(e)?n++:e[r[n++]];return e}function Fr(e){for(const r in e)if(e.hasOwnProperty(r)&&!P(e[r]))return!1;return!0}function H(e,r){const t=Array.isArray(r)?r:nt(r)?[r]:kt(r),n=t.length===1?e:Ar(e,t),i=t.length-1,l=t[i];return n&&delete n[l],i!==0&&($(n)&&te(n)||Array.isArray(n)&&Fr(n))&&H(e,t.slice(0,-1)),e}var Ge=()=>{let e=[];return{get observers(){return e},next:i=>{for(const l of e)l.next&&l.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(l=>l!==i)}}),unsubscribe:()=>{e=[]}}},Ze=e=>Y(e)||!At(e);function _e(e,r){if(Ze(e)||Ze(r))return e===r;if(pe(e)&&pe(r))return e.getTime()===r.getTime();const t=Object.keys(e),n=Object.keys(r);if(t.length!==n.length)return!1;for(const i of t){const l=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const c=r[i];if(pe(l)&&pe(c)||$(l)&&$(c)||Array.isArray(l)&&Array.isArray(c)?!_e(l,c):l!==c)return!1}}return!0}var jt=e=>e.type==="select-multiple",Dr=e=>ut(e)||Me(e),Xe=e=>We(e)&&e.isConnected,It=e=>{for(const r in e)if(me(e[r]))return!0;return!1};function He(e,r={}){const t=Array.isArray(e);if($(e)||t)for(const n in e)Array.isArray(e[n])||$(e[n])&&!It(e[n])?(r[n]=Array.isArray(e[n])?[]:{},He(e[n],r[n])):Y(e[n])||(r[n]=!0);return r}function Ut(e,r,t){const n=Array.isArray(e);if($(e)||n)for(const i in e)Array.isArray(e[i])||$(e[i])&&!It(e[i])?P(r)||Ze(t[i])?t[i]=Array.isArray(e[i])?He(e[i],[]):{...He(e[i])}:Ut(e[i],Y(r)?{}:r[i],t[i]):t[i]=!_e(e[i],r[i]);return t}var Ie=(e,r)=>Ut(e,r,He(r)),Pt=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:n})=>P(e)?e:r?e===""?NaN:e&&+e:t&&oe(e)?new Date(e):n?n(e):e;function Je(e){const r=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):r.disabled))return lt(r)?r.files:ut(r)?Mt(e.refs).value:jt(r)?[...r.selectedOptions].map(({value:t})=>t):Me(r)?Nt(e.refs).value:Pt(P(r.value)?e.ref.value:r.value,e)}var kr=(e,r,t,n)=>{const i={};for(const l of e){const c=d(r,l);c&&O(i,l,c._f)}return{criteriaMode:t,names:[...e],fields:i,shouldUseNativeValidation:n}},Te=e=>P(e)?e:qe(e)?e.source:$(e)?qe(e.value)?e.value.source:e.value:e,Cr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function _t(e,r,t){const n=d(e,t);if(n||nt(t))return{error:n,name:t};const i=t.split(".");for(;i.length;){const l=i.join("."),c=d(r,l),h=d(e,l);if(c&&!Array.isArray(c)&&t!==l)return{name:t};if(h&&h.type)return{name:l,error:h};i.pop()}return{name:t}}var Tr=(e,r,t,n,i)=>i.isOnAll?!1:!t&&i.isOnTouch?!(r||e):(t?n.isOnBlur:i.isOnBlur)?!e:(t?n.isOnChange:i.isOnChange)?e:!0,Or=(e,r)=>!$e(d(e,r)).length&&H(e,r);const Lr={mode:ne.onSubmit,reValidateMode:ne.onChange,shouldFocusError:!0};function Nr(e={}){let r={...Lr,...e},t={submitCount:0,isDirty:!1,isLoading:me(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},n={},i=$(r.defaultValues)||$(r.values)?ee(r.defaultValues||r.values)||{}:{},l=r.shouldUnregister?{}:ee(i),c={action:!1,mount:!1,watch:!1},h={mount:new Set,unMount:new Set,array:new Set,watch:new Set},_,V=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},x={values:Ge(),array:Ge(),state:Ge()},z=gt(r.mode),q=gt(r.reValidateMode),E=r.criteriaMode===ne.all,k=s=>a=>{clearTimeout(V),V=setTimeout(s,a)},A=async s=>{if(m.isValid||s){const a=r.resolver?te((await L()).errors):await W(n,!0);a!==t.isValid&&x.state.next({isValid:a})}},b=(s,a)=>{(m.isValidating||m.validatingFields)&&((s||Array.from(h.mount)).forEach(u=>{u&&(a?O(t.validatingFields,u,a):H(t.validatingFields,u))}),x.state.next({validatingFields:t.validatingFields,isValidating:!te(t.validatingFields)}))},w=(s,a=[],u,g,f=!0,o=!0)=>{if(g&&u){if(c.action=!0,o&&Array.isArray(d(n,s))){const y=u(d(n,s),g.argA,g.argB);f&&O(n,s,y)}if(o&&Array.isArray(d(t.errors,s))){const y=u(d(t.errors,s),g.argA,g.argB);f&&O(t.errors,s,y),Or(t.errors,s)}if(m.touchedFields&&o&&Array.isArray(d(t.touchedFields,s))){const y=u(d(t.touchedFields,s),g.argA,g.argB);f&&O(t.touchedFields,s,y)}m.dirtyFields&&(t.dirtyFields=Ie(i,l)),x.state.next({name:s,isDirty:S(s,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else O(l,s,a)},G=(s,a)=>{O(t.errors,s,a),x.state.next({errors:t.errors})},I=s=>{t.errors=s,x.state.next({errors:t.errors,isValid:!1})},M=(s,a,u,g)=>{const f=d(n,s);if(f){const o=d(l,s,P(u)?d(i,s):u);P(o)||g&&g.defaultChecked||a?O(l,s,a?o:Je(f._f)):K(s,o),c.mount&&A()}},ae=(s,a,u,g,f)=>{let o=!1,y=!1;const R={name:s},j=!!(d(n,s)&&d(n,s)._f&&d(n,s)._f.disabled);if(!u||g){m.isDirty&&(y=t.isDirty,t.isDirty=R.isDirty=S(),o=y!==R.isDirty);const J=j||_e(d(i,s),a);y=!!(!j&&d(t.dirtyFields,s)),J||j?H(t.dirtyFields,s):O(t.dirtyFields,s,!0),R.dirtyFields=t.dirtyFields,o=o||m.dirtyFields&&y!==!J}if(u){const J=d(t.touchedFields,s);J||(O(t.touchedFields,s,u),R.touchedFields=t.touchedFields,o=o||m.touchedFields&&J!==u)}return o&&f&&x.state.next(R),o?R:{}},ge=(s,a,u,g)=>{const f=d(t.errors,s),o=m.isValid&&ue(a)&&t.isValid!==a;if(e.delayError&&u?(_=k(()=>G(s,u)),_(e.delayError)):(clearTimeout(V),_=null,u?O(t.errors,s,u):H(t.errors,s)),(u?!_e(f,u):f)||!te(g)||o){const y={...g,...o&&ue(a)?{isValid:a}:{},errors:t.errors,name:s};t={...t,...y},x.state.next(y)}},L=async s=>{b(s,!0);const a=await r.resolver(l,r.context,kr(s||h.mount,n,r.criteriaMode,r.shouldUseNativeValidation));return b(s),a},ie=async s=>{const{errors:a}=await L(s);if(s)for(const u of s){const g=d(a,u);g?O(t.errors,u,g):H(t.errors,u)}else t.errors=a;return a},W=async(s,a,u={valid:!0})=>{for(const g in s){const f=s[g];if(f){const{_f:o,...y}=f;if(o){const R=h.array.has(o.name);b([g],!0);const j=await xt(f,l,E,r.shouldUseNativeValidation&&!a,R);if(b([g]),j[o.name]&&(u.valid=!1,a))break;!a&&(d(j,o.name)?R?pr(t.errors,j,o.name):O(t.errors,o.name,j[o.name]):H(t.errors,o.name))}!te(y)&&await W(y,a,u)}}return u.valid},he=()=>{for(const s of h.unMount){const a=d(n,s);a&&(a._f.refs?a._f.refs.every(u=>!Xe(u)):!Xe(a._f.ref))&&Ee(s)}h.unMount=new Set},S=(s,a)=>(s&&a&&O(l,s,a),!_e(ce(),i)),p=(s,a,u)=>Lt(s,h,{...c.mount?l:P(a)?i:oe(s)?{[s]:a}:a},u,a),N=s=>$e(d(c.mount?l:i,s,e.shouldUnregister?d(i,s,[]):[])),K=(s,a,u={})=>{const g=d(n,s);let f=a;if(g){const o=g._f;o&&(!o.disabled&&O(l,s,Pt(a,o)),f=We(o.ref)&&Y(a)?"":a,jt(o.ref)?[...o.ref.options].forEach(y=>y.selected=f.includes(y.value)):o.refs?Me(o.ref)?o.refs.length>1?o.refs.forEach(y=>(!y.defaultChecked||!y.disabled)&&(y.checked=Array.isArray(f)?!!f.find(R=>R===y.value):f===y.value)):o.refs[0]&&(o.refs[0].checked=!!f):o.refs.forEach(y=>y.checked=y.value===f):lt(o.ref)?o.ref.value="":(o.ref.value=f,o.ref.type||x.values.next({name:s,values:{...l}})))}(u.shouldDirty||u.shouldTouch)&&ae(s,f,u.shouldTouch,u.shouldDirty,!0),u.shouldValidate&&ve(s)},Q=(s,a,u)=>{for(const g in a){const f=a[g],o=`${s}.${g}`,y=d(n,o);(h.array.has(s)||!Ze(f)||y&&!y._f)&&!pe(f)?Q(o,f,u):K(o,f,u)}},X=(s,a,u={})=>{const g=d(n,s),f=h.array.has(s),o=ee(a);O(l,s,o),f?(x.array.next({name:s,values:{...l}}),(m.isDirty||m.dirtyFields)&&u.shouldDirty&&x.state.next({name:s,dirtyFields:Ie(i,l),isDirty:S(s,o)})):g&&!g._f&&!Y(o)?Q(s,o,u):K(s,o,u),ht(s,h)&&x.state.next({...t}),x.values.next({name:c.mount?s:void 0,values:{...l}})},re=async s=>{c.mount=!0;const a=s.target;let u=a.name,g=!0;const f=d(n,u),o=()=>a.type?Je(f._f):Ft(s),y=R=>{g=Number.isNaN(R)||R===d(l,u,R)};if(f){let R,j;const J=o(),le=s.type===Be.BLUR||s.type===Be.FOCUS_OUT,qt=!Cr(f._f)&&!r.resolver&&!d(t.errors,u)&&!f._f.deps||Tr(le,d(t.touchedFields,u),t.isSubmitted,q,z),Ke=ht(u,h,le);O(l,u,J),le?(f._f.onBlur&&f._f.onBlur(s),_&&_(0)):f._f.onChange&&f._f.onChange(s);const ze=ae(u,J,le,!1),Zt=!te(ze)||Ke;if(!le&&x.values.next({name:u,type:s.type,values:{...l}}),qt)return m.isValid&&A(),Zt&&x.state.next({name:u,...Ke?{}:ze});if(!le&&Ke&&x.state.next({...t}),r.resolver){const{errors:ot}=await L([u]);if(y(J),g){const Ht=_t(t.errors,n,u),ct=_t(ot,n,Ht.name||u);R=ct.error,u=ct.name,j=te(ot)}}else b([u],!0),R=(await xt(f,l,E,r.shouldUseNativeValidation))[u],b([u]),y(J),g&&(R?j=!1:m.isValid&&(j=await W(n,!0)));g&&(f._f.deps&&ve(f._f.deps),ge(u,j,R,ze))}},ye=(s,a)=>{if(d(t.errors,a)&&s.focus)return s.focus(),1},ve=async(s,a={})=>{let u,g;const f=Le(s);if(r.resolver){const o=await ie(P(s)?s:f);u=te(o),g=s?!f.some(y=>d(o,y)):u}else s?(g=(await Promise.all(f.map(async o=>{const y=d(n,o);return await W(y&&y._f?{[o]:y}:y)}))).every(Boolean),!(!g&&!t.isValid)&&A()):g=u=await W(n);return x.state.next({...!oe(s)||m.isValid&&u!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:u}:{},errors:t.errors}),a.shouldFocus&&!g&&Ne(n,ye,s?f:h.mount),g},ce=s=>{const a={...c.mount?l:i};return P(s)?a:oe(s)?d(a,s):s.map(u=>d(a,u))},fe=(s,a)=>({invalid:!!d((a||t).errors,s),isDirty:!!d((a||t).dirtyFields,s),error:d((a||t).errors,s),isValidating:!!d(t.validatingFields,s),isTouched:!!d((a||t).touchedFields,s)}),we=s=>{s&&Le(s).forEach(a=>H(t.errors,a)),x.state.next({errors:s?t.errors:{}})},Ae=(s,a,u)=>{const g=(d(n,s,{_f:{}})._f||{}).ref,f=d(t.errors,s)||{},{ref:o,message:y,type:R,...j}=f;O(t.errors,s,{...j,...a,ref:g}),x.state.next({name:s,errors:t.errors,isValid:!1}),u&&u.shouldFocus&&g&&g.focus&&g.focus()},Ve=(s,a)=>me(s)?x.values.subscribe({next:u=>s(p(void 0,a),u)}):p(s,a,!0),Ee=(s,a={})=>{for(const u of s?Le(s):h.mount)h.mount.delete(u),h.array.delete(u),a.keepValue||(H(n,u),H(l,u)),!a.keepError&&H(t.errors,u),!a.keepDirty&&H(t.dirtyFields,u),!a.keepTouched&&H(t.touchedFields,u),!a.keepIsValidating&&H(t.validatingFields,u),!r.shouldUnregister&&!a.keepDefaultValue&&H(i,u);x.values.next({values:{...l}}),x.state.next({...t,...a.keepDirty?{isDirty:S()}:{}}),!a.keepIsValid&&A()},Fe=({disabled:s,name:a,field:u,fields:g,value:f})=>{if(ue(s)&&c.mount||s){const o=s?void 0:P(f)?Je(u?u._f:d(g,a)._f):f;O(l,a,o),ae(a,o,!1,!1,!0)}},De=(s,a={})=>{let u=d(n,s);const g=ue(a.disabled);return O(n,s,{...u||{},_f:{...u&&u._f?u._f:{ref:{name:s}},name:s,mount:!0,...a}}),h.mount.add(s),u?Fe({field:u,disabled:a.disabled,name:s,value:a.value}):M(s,!0,a.value),{...g?{disabled:a.disabled}:{},...r.progressive?{required:!!a.required,min:Te(a.min),max:Te(a.max),minLength:Te(a.minLength),maxLength:Te(a.maxLength),pattern:Te(a.pattern)}:{},name:s,onChange:re,onBlur:re,ref:f=>{if(f){De(s,a),u=d(n,s);const o=P(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,y=Dr(o),R=u._f.refs||[];if(y?R.find(j=>j===o):o===u._f.ref)return;O(n,s,{_f:{...u._f,...y?{refs:[...R.filter(Xe),o,...Array.isArray(d(i,s))?[{}]:[]],ref:{type:o.type,name:s}}:{ref:o}}}),M(s,!1,void 0,o)}else u=d(n,s,{}),u._f&&(u._f.mount=!1),(r.shouldUnregister||a.shouldUnregister)&&!(Dt(h.array,s)&&c.action)&&h.unMount.add(s)}}},je=()=>r.shouldFocusError&&Ne(n,ye,h.mount),be=s=>{ue(s)&&(x.state.next({disabled:s}),Ne(n,(a,u)=>{const g=d(n,u);g&&(a.disabled=g._f.disabled||s,Array.isArray(g._f.refs)&&g._f.refs.forEach(f=>{f.disabled=g._f.disabled||s}))},0,!1))},ke=(s,a)=>async u=>{let g;u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist());let f=ee(l);if(x.state.next({isSubmitting:!0}),r.resolver){const{errors:o,values:y}=await L();t.errors=o,f=y}else await W(n);if(H(t.errors,"root"),te(t.errors)){x.state.next({errors:{}});try{await s(f,u)}catch(o){g=o}}else a&&await a({...t.errors},u),je(),setTimeout(je);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:te(t.errors)&&!g,submitCount:t.submitCount+1,errors:t.errors}),g)throw g},T=(s,a={})=>{d(n,s)&&(P(a.defaultValue)?X(s,ee(d(i,s))):(X(s,a.defaultValue),O(i,s,ee(a.defaultValue))),a.keepTouched||H(t.touchedFields,s),a.keepDirty||(H(t.dirtyFields,s),t.isDirty=a.defaultValue?S(s,ee(d(i,s))):S()),a.keepError||(H(t.errors,s),m.isValid&&A()),x.state.next({...t}))},C=(s,a={})=>{const u=s?ee(s):i,g=ee(u),f=te(s),o=f?i:g;if(a.keepDefaultValues||(i=u),!a.keepValues){if(a.keepDirtyValues)for(const y of h.mount)d(t.dirtyFields,y)?O(o,y,d(l,y)):X(y,d(o,y));else{if(st&&P(s))for(const y of h.mount){const R=d(n,y);if(R&&R._f){const j=Array.isArray(R._f.refs)?R._f.refs[0]:R._f.ref;if(We(j)){const J=j.closest("form");if(J){J.reset();break}}}}n={}}l=e.shouldUnregister?a.keepDefaultValues?ee(i):{}:ee(o),x.array.next({values:{...o}}),x.values.next({values:{...o}})}h={mount:a.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!m.isValid||!!a.keepIsValid||!!a.keepDirtyValues,c.watch=!!e.shouldUnregister,x.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:f?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!_e(s,i)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:f?{}:a.keepDirtyValues?a.keepDefaultValues&&l?Ie(i,l):t.dirtyFields:a.keepDefaultValues&&s?Ie(i,s):a.keepDirty?t.dirtyFields:{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Z=(s,a)=>C(me(s)?s(l):s,a);return{control:{register:De,unregister:Ee,getFieldState:fe,handleSubmit:ke,setError:Ae,_executeSchema:L,_getWatch:p,_getDirty:S,_updateValid:A,_removeUnmounted:he,_updateFieldArray:w,_updateDisabledField:Fe,_getFieldArray:N,_reset:C,_resetDefaultValues:()=>me(r.defaultValues)&&r.defaultValues().then(s=>{Z(s,r.resetOptions),x.state.next({isLoading:!1})}),_updateFormState:s=>{t={...t,...s}},_disableForm:be,_subjects:x,_proxyFormState:m,_setErrors:I,get _fields(){return n},get _formValues(){return l},get _state(){return c},set _state(s){c=s},get _defaultValues(){return i},get _names(){return h},set _names(s){h=s},get _formState(){return t},set _formState(s){t=s},get _options(){return r},set _options(s){r={...r,...s}}},trigger:ve,register:De,handleSubmit:ke,watch:Ve,setValue:X,getValues:ce,reset:Z,resetField:T,clearErrors:we,unregister:Ee,setError:Ae,setFocus:(s,a={})=>{const u=d(n,s),g=u&&u._f;if(g){const f=g.refs?g.refs[0]:g.ref;f.focus&&(f.focus(),a.shouldSelect&&f.select())}},getFieldState:fe}}function Bt(e={}){const r=D.useRef(),t=D.useRef(),[n,i]=D.useState({isDirty:!1,isValidating:!1,isLoading:me(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:me(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...Nr(e),formState:n});const l=r.current.control;return l._options=e,it({subject:l._subjects.state,next:c=>{Tt(c,l._proxyFormState,l._updateFormState,!0)&&i({...l._formState})}}),D.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),D.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==n.isDirty&&l._subjects.state.next({isDirty:c})}},[l,n.isDirty]),D.useEffect(()=>{e.values&&!_e(e.values,t.current)?(l._reset(e.values,l._options.resetOptions),t.current=e.values,i(c=>({...c}))):l._resetDefaultValues()},[e.values,l]),D.useEffect(()=>{e.errors&&l._setErrors(e.errors)},[e.errors,l]),D.useEffect(()=>{l._state.mount||(l._updateValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),D.useEffect(()=>{e.shouldUnregister&&l._subjects.values.next({values:l._getWatch()})},[e.shouldUnregister,l]),r.current.formState=Ct(n,l),r.current}const wt=D.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(r=>{e.status="fulfilled",e.value=r},r=>{e.status="rejected",e.reason=r}),e)}),Ye={dedupe:!0},Mr=(e,r,t)=>{const{cache:n,compare:i,suspense:l,fallbackData:c,revalidateOnMount:h,revalidateIfStale:_,refreshInterval:V,refreshWhenHidden:m,refreshWhenOffline:x,keepPreviousData:z}=t,[q,E,k,A]=Yt.get(n),[b,w]=Et(e),G=v.useRef(!1),I=v.useRef(!1),M=v.useRef(b),ae=v.useRef(r),ge=v.useRef(t),L=()=>ge.current,ie=()=>L().isVisible()&&L().isOnline(),[W,he,S,p]=Qt(n,b),N=v.useRef({}).current,K=B(c)?t.fallback[b]:c,Q=(T,C)=>{for(const Z in N){const U=Z;if(U==="data"){if(!i(T[U],C[U])&&(!B(T[U])||!i(Ve,C[U])))return!1}else if(C[U]!==T[U])return!1}return!0},X=v.useMemo(()=>{const T=!b||!r?!1:B(h)?L().isPaused()||l?!1:B(_)?!0:_:h,C=a=>{const u=Ue(a);return delete u._k,T?{isValidating:!0,isLoading:!0,...u}:u},Z=W(),U=p(),se=C(Z),xe=Z===U?se:C(U);let s=se;return[()=>{const a=C(W());return Q(a,s)?(s.data=a.data,s.isLoading=a.isLoading,s.isValidating=a.isValidating,s.error=a.error,s):(s=a,a)},()=>xe]},[n,b]),re=er.useSyncExternalStore(v.useCallback(T=>S(b,(C,Z)=>{Q(Z,C)||T()}),[n,b]),X[0],X[1]),ye=!G.current,ve=q[b]&&q[b].length>0,ce=re.data,fe=B(ce)?K:ce,we=re.error,Ae=v.useRef(fe),Ve=z?B(ce)?Ae.current:ce:fe,Ee=ve&&!B(we)?!1:ye&&!B(h)?h:L().isPaused()?!1:l?B(fe)?!1:_:B(fe)||_,Fe=!!(b&&r&&ye&&Ee),De=B(re.isValidating)?Fe:re.isValidating,je=B(re.isLoading)?Fe:re.isLoading,be=v.useCallback(async T=>{const C=ae.current;if(!b||!C||I.current||L().isPaused())return!1;let Z,U,se=!0;const xe=T||{},s=!k[b]||!xe.dedupe,a=()=>Qe?!I.current&&b===M.current&&G.current:b===M.current,u={isValidating:!1,isLoading:!1},g=()=>{he(u)},f=()=>{const y=k[b];y&&y[1]===U&&delete k[b]},o={isValidating:!0};B(W().data)&&(o.isLoading=!0);try{if(s&&(he(o),t.loadingTimeout&&B(W().data)&&setTimeout(()=>{se&&a()&&L().onLoadingSlow(b,t)},t.loadingTimeout),k[b]=[C(w),et()]),[Z,U]=k[b],Z=await Z,s&&setTimeout(f,t.dedupingInterval),!k[b]||k[b][1]!==U)return s&&a()&&L().onDiscarded(b),!1;u.error=Se;const y=E[b];if(!B(y)&&(U<=y[0]||U<=y[1]||y[1]===0))return g(),s&&a()&&L().onDiscarded(b),!1;const R=W().data;u.data=i(R,Z)?R:Z,s&&a()&&L().onSuccess(Z,b,t)}catch(y){f();const R=L(),{shouldRetryOnError:j}=R;R.isPaused()||(u.error=y,s&&a()&&(R.onError(y,b,R),(j===!0||ft(j)&&j(y))&&(!L().revalidateOnFocus||!L().revalidateOnReconnect||ie())&&R.onErrorRetry(y,b,R,J=>{const le=q[b];le&&le[0]&&le[0](Ce.ERROR_REVALIDATE_EVENT,J)},{retryCount:(xe.retryCount||0)+1,dedupe:!0})))}return se=!1,g(),!0},[b,n]),ke=v.useCallback((...T)=>tr(n,M.current,...T),[]);if(Oe(()=>{ae.current=r,ge.current=t,B(ce)||(Ae.current=ce)}),Oe(()=>{if(!b)return;const T=be.bind(Se,Ye);let C=0;const U=rr(b,q,(se,xe={})=>{if(se==Ce.FOCUS_EVENT){const s=Date.now();L().revalidateOnFocus&&s>C&&ie()&&(C=s+L().focusThrottleInterval,T())}else if(se==Ce.RECONNECT_EVENT)L().revalidateOnReconnect&&ie()&&T();else{if(se==Ce.MUTATE_EVENT)return be();if(se==Ce.ERROR_REVALIDATE_EVENT)return be(xe)}});return I.current=!1,M.current=b,G.current=!0,he({_k:w}),Ee&&(B(fe)||dt?T():sr(T)),()=>{I.current=!0,U()}},[b]),Oe(()=>{let T;function C(){const U=ft(V)?V(W().data):V;U&&T!==-1&&(T=setTimeout(Z,U))}function Z(){!W().error&&(m||L().isVisible())&&(x||L().isOnline())?be(Ye).then(C):C()}return C(),()=>{T&&(clearTimeout(T),T=-1)}},[V,m,x,b]),v.useDebugValue(Ve),l&&B(fe)&&b){if(!Qe&&dt)throw new Error("Fallback data is required when using suspense in SSR.");ae.current=r,ge.current=t,I.current=!1;const T=A[b];if(!B(T)){const C=ke(T);wt(C)}if(B(we)){const C=be(Ye);B(Ve)||(C.status="fulfilled",C.value=!0),wt(C)}else throw we}return{mutate:ke,get data(){return N.data=!0,Ve},get error(){return N.error=!0,we},get isValidating(){return N.isValidating=!0,De},get isLoading(){return N.isLoading=!0,je}}};$t.defineProperty(Kt,"defaultValue",{value:zt});const jr=Xt(Mr),Vt=Qe?e=>{e()}:D.startTransition,Ir=e=>{const[,r]=v.useState({}),t=v.useRef(!1),n=v.useRef(e),i=v.useRef({data:!1,error:!1,isValidating:!1}),l=v.useCallback(c=>{let h=!1;const _=n.current;for(const V in c){const m=V;_[m]!==c[m]&&(_[m]=c[m],i.current[m]&&(h=!0))}h&&!t.current&&r({})},[]);return Oe(()=>(t.current=!1,()=>{t.current=!0})),[n,i.current,l]},Ur=()=>(e,r,t={})=>{const{mutate:n}=Jt(),i=v.useRef(e),l=v.useRef(r),c=v.useRef(t),h=v.useRef(0),[_,V,m]=Ir({data:Se,error:Se,isMutating:!1}),x=_.current,z=v.useCallback(async(E,k)=>{const[A,b]=Et(i.current);if(!l.current)throw new Error("Can’t trigger the mutation: missing fetcher.");if(!A)throw new Error("Can’t trigger the mutation: missing key.");const w=Ue(Ue({populateCache:!1,throwOnError:!0},c.current),k),G=et();h.current=G,m({isMutating:!0});try{const I=await n(A,l.current(b,{arg:E}),Ue(w,{throwOnError:!0}));return h.current<=G&&(Vt(()=>m({data:I,isMutating:!1,error:void 0})),w.onSuccess==null||w.onSuccess.call(w,I,A,w)),I}catch(I){if(h.current<=G&&(Vt(()=>m({error:I,isMutating:!1})),w.onError==null||w.onError.call(w,I,A,w),w.throwOnError))throw I}},[]),q=v.useCallback(()=>{h.current=et(),m({data:Se,error:Se,isMutating:!1})},[]);return Oe(()=>{i.current=e,l.current=r,c.current=t}),{trigger:z,reset:q,get data(){return V.data=!0,x.data},get error(){return V.error=!0,x.error},get isMutating(){return V.isMutating=!0,x.isMutating}}},Wt=Gt(jr,Ur),Pr=e=>Wt("/otp/send",(r,{arg:t})=>Rt(r,{arg:t,method:"POST"}),e),Br=e=>Wt("/otp/verify",(r,{arg:t})=>Rt(r,{arg:t,method:"POST"}),e),Wr=({username:e})=>{const[,r]=pt(),t=nr(),{trigger:n,isMutating:i}=Br({onError(E){var k,A;r([{message:((A=(k=E==null?void 0:E.response)==null?void 0:k.data)==null?void 0:A.error)||E.message,type:"error",close:()=>r([])}])}}),{handleSubmit:l,control:c,setValue:h,formState:{isValid:_},setFocus:V}=Bt({defaultValues:{otp:[]},mode:"all"}),m=v.useRef(null);v.useEffect(()=>{V("otp.0")},[V]);const x=async({otp:E})=>{(await n({username:e,otp:E.join("")})).status===200&&t("/")},z=E=>{const k=E.currentTarget,A=k.previousSibling,b=k.nextSibling;if(Number.isNaN(Number(E.key))){E.preventDefault();return}E.key==="ArrowLeft"&&A?(E.preventDefault(),A.select()):E.key==="ArrowRight"&&b?(E.preventDefault(),b.select()):E.key==="Backspace"&&A&&k.value===""&&(E.preventDefault(),A.select())},q=E=>{const k=E.currentTarget,A=k.value;if(Number.isNaN(Number(A))){E.preventDefault();return}const b=k.nextSibling,w=k.previousSibling;h(E.currentTarget.name,A),A&&b?b.select():!A&&w?w.select():A&&!b&&m.current&&(m.current.disabled=!1,m.current.focus())};return F.jsxs("form",{className:"flex flex-col sm:mx-auto sm:w-full sm:max-w-sm [&>*:not(:last-child)]:mb-8",onSubmit:l(x),children:[F.jsx(fr,{className:"fill-primary w-12 h-12 mx-auto animate-bounce"}),F.jsx("h2",{className:"text-center font-bold text-2xl",children:"Check Telegram"}),F.jsx("div",{className:"flex justify-between space-x-2",children:Array.from({length:6}).map((E,k)=>F.jsx(Rr,{name:`otp.${k}`,control:c,rules:{maxLength:1,required:!0},render:({field:A})=>F.jsx("input",{...A,onClick:b=>b.currentTarget.select(),type:"number",maxLength:1,className:"w-12 h-12 text-center border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary no-arrows",onInput:q,onKeyDown:z})},k))}),F.jsx(St,{color:"primary",type:"submit",disabled:i||!_,isLoading:i,ref:m,children:"Sign in"})]})},qr=v.forwardRef(function({star:r,label:t,outlined:n=!1,onChange:i,...l},c){const h=V=>{V.currentTarget.labels[0].scrollIntoView()},_=V=>{i&&i(V)};return F.jsxs("label",{className:"flex flex-col-reverse text-gray-900",children:[F.jsx("input",{...l,onInvalid:h,ref:c,className:tt({"px-3 mt-2 ring-1 rounded-md ring-gray-300 focus:ring-primary focus:ring-2":n,"border border-t-0 border-x-0 border-gray-300 focus:border-b-2 focus:border-primary":!n},"py-1.5 box-border h-9 outline-none"),onChange:_}),F.jsxs("div",{className:"text-sm font-medium leading-6 text-gray-900",children:[t," ",r&&F.jsx("span",{className:"text-primary",children:"*"})]})]})}),Zr=({setUsername:e})=>{const{handleSubmit:r,register:t,setFocus:n}=Bt(),[,i]=pt(),{trigger:l,isMutating:c}=Pr({onError(_){var V,m;console.log(_),i([{message:((m=(V=_==null?void 0:_.response)==null?void 0:V.data)==null?void 0:m.error)||_.message,type:"error",close:()=>i([])}])}}),h=async({username:_})=>{const V=await l({username:_});console.log(V),V.status===200&&e(_)};return v.useEffect(()=>{n("username")},[n]),F.jsxs("form",{className:"flex flex-col sm:mx-auto sm:w-full sm:max-w-sm [&>*:not(:last-child)]:mb-8",onSubmit:r(h),children:[F.jsx(yr,{className:"fill-primary w-12 h-12 mx-auto"}),F.jsx("h2",{className:"text-center font-bold text-2xl",children:"Sign in to your account"}),F.jsx(qr,{label:"Username",...t("username",{required:!0}),outlined:!0}),F.jsx(St,{color:"primary",type:"submit",disabled:c,isLoading:c,icon:{Component:or,type:"lead"},children:"Next"})]})},Hr=({children:e})=>{const[r,t]=v.useState(!1);return v.useEffect(()=>(t(!0),()=>t(!1)),[]),r?ar.createPortal(e,document.getElementById("toast")):null};function $r({title:e,titleId:r,...t},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?v.createElement("title",{id:r},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Kr=v.forwardRef($r),zr={error:vr,success:gr},Gr={error:"bg-red-50 text-red-800 [&>svg]:text-red-400",success:"bg-green-50 text-green-800 [&>svg]:text-green-400"},Xr=({message:e,type:r="error",close:t})=>{const n=zr[r];return v.useEffect(()=>{const i=setTimeout(t,8e3);return()=>clearTimeout(i)},[]),F.jsx(Hr,{children:F.jsxs("div",{className:tt("p-1.5 px-4 flex items-center transition-opacity duration-225 ease-in-out transform duration-150",Gr[r],"whitespace-nowrap rounded-lg text-sm max-w-4xl mx-6 w-full mb-1.5"),children:[F.jsx(n,{className:"mr-3 h-6 w-6"}),F.jsx("span",{children:e}),F.jsx("span",{onClick:t,className:tt("p-2 flex transition-colors duration-200 ease-out rounded-full cursor-pointer hover:bg-black/20 ml-auto"),children:F.jsx(Kr,{className:"h-6 w-6"})})]})})},Qr=()=>{const[e,r]=v.useState();return F.jsxs(ir,{children:[F.jsxs("div",{className:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8",children:[e?F.jsx(Wr,{username:e}):F.jsx(Zr,{setUsername:r}),F.jsxs("p",{className:"mt-10 text-center text-sm text-gray-500",children:["Any troubles?"," ",F.jsx("a",{href:"https://t.me/mahbodsr",className:"font-semibold leading-6 text-indigo-600 hover:text-indigo-500",children:"Contact Mahbod Saraei"})]})]}),F.jsx("div",{id:"toast",className:"left-0 right-0 bottom-6 px-6 fixed flex flex-col items-center z-50",children:F.jsx(lr,{children:([t])=>t.map((n,i)=>v.createElement(Xr,{...n,key:i}))})})]})};export{Qr as default};
